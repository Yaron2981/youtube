<div [ngSwitch]="posType">
  <ng-template ngSwitchCase="horizontal">
    <mat-card
      fxLayout="row"
      *ngIf="video"
      class="card"
      class="mat-elevation-z0"
      style="padding-top: 0px; background-color: #fafafa"
      (mouseenter)="onMouseEnter($event, video)"
      (mouseleave)="onMouseLeave($event, video)"
    >
      <div fxFlex="30">
        <div class="img-con">
          <a
            target="_blank"
            [href]="YT.VIDEO_PATH + video.videoId | safe: 'url'"
          >
            <img
              class="min-circle-img"
              mat-card-image
              [src]="video.thumbnail"
              [alt]="video.title"
              (error)="handleMissingImage($event)"
            />
            <ng-container *ngIf="video.showPlayer">
              <a
                [@fade]="video.showPop"
                target="_blank"
                [href]="YT.VIDEO_PATH + video.videoId | safe: 'url'"
                class="player-link"
              >
                <app-player
                  [posType]="posType"
                  [videoId]="video.videoId"
                ></app-player>
              </a>
            </ng-container>
          </a>
        </div>
      </div>
      <div fxFlex="70">
        <mat-card-content>
          <div fxLayout="row">
            <a
              fxFlex="100"
              target="_blank"
              [href]="YT.VIDEO_PATH + video.videoId | safe: 'url'"
              class="title"
              [innerHtml]="video.title | safe: 'html'"
            ></a>
          </div>
          <div fxLayout="row">
            <mat-card-subtitle fxFlex="100">
              {{ video.viewCount! | shortNumber }} <span>&bull;</span>
              {{ video.publishedAt! | dateAgo }}</mat-card-subtitle
            >
          </div>
          <div fxLayout="row">
            <div fxFlex="100" mat-card-avatar fxLayoutAlign="start">
              <img
                class="card-avatar-mini"
                [src]="video.channelThumbnail"
                alt="Keep overing to play"
              />
              <a
                style="margin-left: 0.75rem"
                target="_blank"
                class="channel-title"
                [href]="YT.VIDEO_PATH + video.channelId | safe: 'url'"
                >{{ video.channelTitle }}</a
              >
            </div>
          </div>
          <div fxLayout="row">
            <mat-card-subtitle
              fxFlex="100"
              target="_blank"
              class="title"
              [innerHtml]="video.description | safe: 'html'"
            ></mat-card-subtitle>
          </div>
        </mat-card-content>
      </div>
    </mat-card>
  </ng-template>
  <ng-template ngSwitchCase="vertical">
    <!-- <div>   (mouseenter)="onMouseEnter(video)"
      (mouseleave)="onMouseLeave(video)"</div> -->
    <mat-card
      *ngIf="video"
      class="card"
      class="mat-elevation-z0"
      style="padding-top: 0px"
      (mouseenter)="onMouseEnter($event, video)"
      (mouseleave)="onMouseLeave($event, video)"
    >
      <a target="_blank" [href]="YT.VIDEO_PATH + video.videoId | safe: 'url'">
        <img
          [ngClass]="{ hbp: video.loader.thumbnail }"
          mat-card-image
          [src]="video.thumbnail"
          [alt]="video.title"
          (load)="video.loader.thumbnail = false"
      /></a>
      <div *ngIf="video.loader.thumbnail" class="holder-thumbnail-con">
        <div class="thumbnail"></div>
      </div>
      <mat-card-content>
        <div fxLayout="row">
          <div fxFlex="18" mat-card-avatar fxLayoutAlign="start">
            <img
              [ngClass]="{ hbp: video.loader.channelThumbnail }"
              class="card-avatar"
              [src]="video.channelThumbnail"
              alt="Keep overing to play"
              (load)="video.loader.channelThumbnail = false"
            />
            <div
              class="holder-channel-humbnail"
              *ngIf="video.loader.channelThumbnail"
            ></div>
          </div>
          <div fxFlex="82">
            <div
              class="holder-content"
              *ngIf="video.loader.content || !video.title"
            >
              <div class="title"></div>
              <div class="title2"></div>
              <div class="channel"></div>
              <div class="views"></div>
            </div>
            <div *ngIf="video.title && !video.loader.content">
              <a
                style="display: block; height: 40px; padding-right: 8px"
                target="_blank"
                [href]="YT.VIDEO_PATH + video.videoId | safe: 'url'"
                class="title"
                [innerHtml]="video.title | truncate: [75, '...'] | safe: 'html'"
              ></a>

              <div fxLayout="row" class="mt-1rem">
                <mat-card-subtitle xFlex="100">
                  <a
                    target="_blank"
                    class="channel-title"
                    [href]="YT.VIDEO_PATH + video.channelId | safe: 'url'"
                    >{{ video.channelTitle }}</a
                  ><br />
                  {{ video.viewCount! | shortNumber }} <span>&bull;</span>
                  {{ video.publishedAt! | dateAgo }}</mat-card-subtitle
                >
              </div>
            </div>
          </div>
        </div>
      </mat-card-content>
      <app-pop-over-video
        [remainder]="remainder"
        [videoIndex]="videoIndex"
        [video]="video"
        [triggerAnimation]="triggerAni"
      ></app-pop-over-video> </mat-card
  ></ng-template>
</div>
